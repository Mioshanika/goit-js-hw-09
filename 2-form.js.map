{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["function saveToLS(key, obj) {\n  localStorage.setItem(key, JSON.stringify(obj));\n}\nfunction loadFromLS(key) {\n  const LSdata = localStorage.getItem(key);\n  try {\n    const parsedLSdata = JSON.parse(LSdata);\n    return parsedLSdata;\n  } catch (err) {\n    console.log(err);\n    return null;\n  }\n}\nfunction removeFromLS(key) {\n  localStorage.removeItem(key);\n}\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst feedbackForm = document.querySelector('.feedback-form');\n// Populate the form from the local storage || empty form\nconst storedData = loadFromLS(STORAGE_KEY);\nfeedbackForm.elements.email.value = storedData?.eMail || '';\nfeedbackForm.elements.message.value = storedData?.message || '';\n// On input\nfeedbackForm.addEventListener('input', event => {\n  const formData = {\n    eMail: event.currentTarget.elements.email.value.trim(),\n    message: event.currentTarget.elements.message.value.trim(),\n  };\n  saveToLS(STORAGE_KEY, formData);\n});\n// On submit\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const formData = {\n    eMail: event.currentTarget.elements.email.value.trim(),\n    message: event.currentTarget.elements.message.value.trim(),\n  };\n  if (!formData.eMail || !formData.message) {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log(formData);\n  event.target.reset();\n  removeFromLS(STORAGE_KEY);\n});\n"],"names":["saveToLS","key","obj","loadFromLS","LSdata","err","removeFromLS","STORAGE_KEY","feedbackForm","storedData","event","formData"],"mappings":"wFAAA,SAASA,EAASC,EAAKC,EAAK,CAC1B,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAG,CAAC,CAC/C,CACA,SAASC,EAAWF,EAAK,CACvB,MAAMG,EAAS,aAAa,QAAQH,CAAG,EACvC,GAAI,CAEF,OADqB,KAAK,MAAMG,CAAM,CAEvC,OAAQC,EAAK,CACZ,eAAQ,IAAIA,CAAG,EACR,IACR,CACH,CACA,SAASC,EAAaL,EAAK,CACzB,aAAa,WAAWA,CAAG,CAC7B,CAEA,MAAMM,EAAc,sBACdC,EAAe,SAAS,cAAc,gBAAgB,EAEtDC,EAAaN,EAAWI,CAAW,EACzCC,EAAa,SAAS,MAAM,OAAQC,GAAA,YAAAA,EAAY,QAAS,GACzDD,EAAa,SAAS,QAAQ,OAAQC,GAAA,YAAAA,EAAY,UAAW,GAE7DD,EAAa,iBAAiB,QAASE,GAAS,CAC9C,MAAMC,EAAW,CACf,MAAOD,EAAM,cAAc,SAAS,MAAM,MAAM,KAAM,EACtD,QAASA,EAAM,cAAc,SAAS,QAAQ,MAAM,KAAM,CAC9D,EACEV,EAASO,EAAaI,CAAQ,CAChC,CAAC,EAEDH,EAAa,iBAAiB,SAAUE,GAAS,CAC/CA,EAAM,eAAc,EACpB,MAAMC,EAAW,CACf,MAAOD,EAAM,cAAc,SAAS,MAAM,MAAM,KAAM,EACtD,QAASA,EAAM,cAAc,SAAS,QAAQ,MAAM,KAAM,CAC9D,EACE,GAAI,CAACC,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAIA,CAAQ,EACpBD,EAAM,OAAO,QACbJ,EAAaC,CAAW,CAC1B,CAAC"}